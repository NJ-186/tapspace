<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>View - Taaspace Example</title>

  <!-- Disable user scalability to override native touch gestures. -->
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <style>
    html, body, #space {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    body {
      font-size: 16px;
      color: white;
      background: #000;
      font-family: sans-serif;
    }
  </style>
</head>
<body>
  <div id="space"></div>
  <script src="../assets/ghoulog.js"></script>
  <script src="../assets/taaspace.min.js"></script>
  <script>
    var space = new taaspace.Space()
    var viewElement = document.getElementById('space')
    var view = new taaspace.SpaceView(space)
    view.mount(viewElement)

    taaspace.preload('../assets/chellah_star.jpg', function (err, img) {
      if (err) { throw err }

      var g = new taaspace.SpaceGroup(space)
      var simg1 = new taaspace.SpaceImage(img, g)
      var simg2 = new taaspace.SpaceImage(img, g)

      view.fitScale(g)
      view.scale(view.atMid(), 1.618)

      var touch1 = new taaspace.Touchable(view, simg1)
      var touch2 = new taaspace.Touchable(view, simg2)
      touch1.start({ translate: true, scale: true, rotate: true })
      touch2.start({ translate: true, scale: true, rotate: true })

      var viewTouch = new taaspace.Touchable(view, view)
      viewTouch.start({ translate: true, scale: true, rotate: true, tap: true });

      (function defineLog () {
        viewTouch.on('transformstart', function () {
          console.log('view:transformstart')
        })
        viewTouch.on('transformmove', function () {
          console.log('view:transformmove')
        })
        viewTouch.on('transformend', function () {
          console.log('view:transformend')
        })
        viewTouch.on('tap', function () {
          console.log('view:tap')
        })
      }())
    })
  </script>
</body>
</html>
